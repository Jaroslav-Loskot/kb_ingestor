POST http://localhost:8888/upsert
Content-Type: application/json

{
  "text": "This is a UML diagram showing login flow:\n\n@startuml autonumber \"[000]\" title Web Application Login participant \"End User\" as USR participant \"Customer Application Web\" as APP participant \"Customer Backend\" as BCK participant \"ThreatMark Platform\" as AFS USR -> APP ++ : Opens the UI APP -> AFS ++ : Requests the JavaScript Probe AFS --> APP -- : Provides the JavaScript APP -> APP : Probe issues cookie values APP -> AFS : Probe initializes async data gathering USR -> APP : Requests Login loop for each authorization step APP -> USR : Requests Auth. Item (Password, OTP, Token) USR --> APP : Provides Authorization Item APP -> BCK ++ : Evaluate Login Step [passes cookie values] BCK -> AFS ++ : /session/action-login-step/create [passes cookie values] AFS --> BCK -- : scoring_result BCK -> BCK : Evaluates Risk BCK -> APP : Update UI status end alt successful login BCK -> AFS ++ : /session/login AFS --> BCK : HTTP 200 AFS -- BCK -> APP : Login Approved APP -> USR : Login else login blocked BCK -> AFS ++ : /session/login-reject AFS --> BCK : HTTP 200 AFS -- BCK -> APP : Login Rejected APP -> USR : Login Reject end APP -- @enduml",
  "chunk": false,
  "metadata": {
    "namespace": "uml-diagrams",
    "document_id": "/session/login_sequence-diagram",
    "method_id" : "/session/login"
  },
  "table_name": "api_chunks"
}